---
import { Image } from 'astro:assets';
import FormattedDate from './FormattedDate.astro';
import { getCurrentLanguage, t } from '../i18n/utils';

const { post } = Astro.props;
const { data } = post;
const link = `/blog/${post.id}/`;
const lang = getCurrentLanguage(Astro);
---

<article class="card">
	<a href={link} class="card__link" aria-label={`${t('common.readMore', lang)}: ${data.title}`}>
		{data.heroImage && (
			<Image class="card__image" width={720} height={360} src={data.heroImage} alt="" />
		)}
		<div class="card__body">
			<p class="card__date">
				<FormattedDate date={data.pubDate} />
			</p>
			<h3 class="card__title">{data.title}</h3>
			<p class="card__description">{data.description}</p>
		</div>
	</a>
</article>

<style>
	.card {
		background: white;
		border-radius: 14px;
		box-shadow: 0 12px 30px rgba(var(--gray), 12%);
		transition: transform 0.15s ease, box-shadow 0.2s ease;
	}

	.card__link {
		display: block;
		color: inherit;
		text-decoration: none;
	}

	.card__image {
		display: block;
		width: 100%;
		border-radius: 14px 14px 0 0;
	}

	.card__body {
		padding: 1.25rem;
		display: grid;
		gap: 0.35rem;
	}

	.card__date {
		margin: 0;
		color: rgb(var(--gray));
		font-size: 0.95rem;
	}

	.card__title {
		margin: 0;
		line-height: 1.25;
		font-size: 1.2rem;
	}

	.card__description {
		margin: 0;
		color: rgb(var(--gray));
		font-size: 1rem;
	}

	.card:hover {
		transform: translateY(-3px);
		box-shadow: 0 16px 40px rgba(var(--gray), 18%);
	}
</style>

